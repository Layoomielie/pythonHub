#!/usr/bin/python# -*- coding: utf-8 -*-"""@author: SquidWard@contact: layoomielie@163.com@software: PyCharm@file: test3.py@time: 2018/11/15 10:54"""import requestsimport re# r=requests.get('https://www.baidu.com/')# print(type(r))# print(r.status_code)# print(r.text)# print(r.cookies)# 给get方法添加参数# data={#      'name':'germey',#      'age':'22'#  }# r=requests.get('https://www.baidu.com/',params=data)## print(type(r.text))# print(r.json())#抓取知乎# headers={#     'User-Agent':'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.81 Safari/537.36'# }# r=requests.get("https://www.zhihu.com/explore",headers=headers)# pattern=re.compile('explore-feed.*?question_link.*?>(.*?)</a>',re.S)# titles=re.findall(pattern,r.text)# print(titles)#下载图片保存# r=requests.get('https://github.com/favicon.ico')# with open('favicon.ico','wb') as f:#     f.write(r.content)#使用post方法调用参数# data={#     'name':'germet','age':'22'# }# r=requests.post("http://httpbin.org/post",data=data)# print(r.text)#使用requests进行文件上传# files={'file':open('favicon.ico','rb')}# r=requests.post("http://httpbin.org/post",files=files)# print(r.text)#调用Cookies# r=requests.get("https://www.baidu.com/")# print(r.cookies)# for key,value in r.cookies.items():#     print(key+'='+value)# 用cookie登录# headers={# 'Host':'www.zhihu.com',# 'cookie':'_xsrf=bxok36Rmqa7k8X7onEh0vwGiKBJn0KIu; _zap=2119db03-8001-40bf-9fdd-6e053615bcbc; d_c0="AACp4I_KdA6PTkrAW7yRH3JO31J61yZvoRo=|1541135897"; q_c1=f859abf1abcc4a95ab4991b96601ce48|1541135898000|1541135898000; l_cap_id="YmVjOWExYmRiNTQxNDgzNjlmNDdhOTc0ODRlMzQ2OWQ=|1541136322|339c8e78d7c78850f0e77efb3c6be1eb5f1e3c62"; r_cap_id="OTBiMDU2ZjY3N2IyNDA5MTljMGNiZGMyZTUzZWNjMzg=|1541136322|ec52f7b524c8268baa42aa3be3d1f7bd6d570c42"; cap_id="ZWMwOGQxMjQzYTQ1NDkwNWExZjA3MjE2MTA3NDMzMjE=|1541136322|1c2d496bf178b16df11949644d882fb560fa5e1e"; capsion_ticket="2|1:0|10:1541725390|14:capsion_ticket|44:ZTVkNWY1MmQ0MmMyNDA4MjljNGQxNzNmMDlhYzdjODc=|f30c870a8c295b7d5104c465e13594984587f04b164b74d6732743f2dcf08227"; z_c0="2|1:0|10:1541725436|4:z_c0|92:Mi4xdGJ2YUNBQUFBQUFBQUtuZ2o4cDBEaVlBQUFCZ0FsVk5fQ3JTWEFCVHBsT2hQVTdWT29Fc09mWUR5dWZmaDd0eDVn|864707dadf1bb6032b68d94d0da01804c585d0c69302986b853689648591546c"; tst=r; __gads=ID=5e642c6c1ae77234:T=1541984427:S=ALNI_MYElVZo8E1zzRbYs34r2CejNNDAsQ; tgw_l7_route=7139e401481ef2f46ce98b22af4f4bed; __utma=51854390.2086476616.1542252375.1542252375.1542252375.1; __utmb=51854390.0.10.1542252375; __utmc=51854390; __utmz=51854390.1542252375.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); __utmv=51854390.100--|2=registration_date=20180419=1^3=entry_date=20180419=1',# 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.81 Safari/537.36'# }# r=requests.get('https://www.zhihu.com',headers=headers)# print(r.text)#Session维持#不维持情况#  requests.get('http://httpbin.org/cookies/set/number/123456789')#  r=requests.get('http://httpbin.org/cookies')#  print(r.text)#维持情况# s=requests.Session()# s.get('http://httpbin.org/cookies/set/number/123456789')# r=s.get('http://httpbin.org/cookies')# print(r.text)#12306response=requests.get('https://www.12306.cn')print(response.status_code)